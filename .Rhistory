setwd("C:/IS415/Project/geospatial_analytics")
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse', 'qdapTools', 'spatstat', 'readr', 'httr')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords=c("lat", "lon"))
View(houses_sf)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_hawker',
style='quantile',
size=0.5)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_hawker',
style='quantile',
size=0.5)
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_hawker',
style='quantile',
size=0.5)
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_dist_hawker',
style='quantile',
size=0.5)
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses) +
tm_dots(col='min_dist_hawker',
style='quantile',
size=0.5)
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_dist_hawker',
style='quantile',
size=0.5)
tm_shape(houses_sf) +
tm_dots(col='min_dist_hawker',
style='quantile',
size=0.5)
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_dist_hawker',
style='quantile',
size=0.5)
houses <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_sf <- st_as_sf(houses, coords=c("lat", "lon"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz_sf) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_hawker',
style='quantile',
size=0.5)
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse', 'qdapTools', 'spatstat', 'readr')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses_group <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_grouped_sf <- st_as_sf(houses_group, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_clinic',
style='quantile',
size=0.5)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_clinic',
style='quantile',
size=0.5)
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse', 'qdapTools', 'spatstat', 'readr', 'httr')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses_group <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_grouped_sf <- st_as_sf(houses_group, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_clinic',
style='quantile',
size=0.5)
houses_group <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_grouped_sf <- st_as_sf(houses_group, coords = c("lon", "lat"))
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
tm_shape(mpsz[mpsz_$REGION_N=="CENTRAL REGION", ])+) + tm_polygons() +
tm_shape(mpsz[mpsz_$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
tm_shape(mpsz[mpsz$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses_group, coords = c("lon", "lat"))
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz[mpsz$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
tmap_mode('plot')
tm_shape(mpsz[mpsz$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
View(houses_sf)
tmap_mode('plot')
tm_shape(mpsz[mpsz$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$REGION_N=="CENTRAL REGION", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
tmap_mode('view')
tm_shape(mpsz[mpsz$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$REGION_N=="CENTRAL REGION", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.5)
tm_shape(mpsz[mpsz$REGION_N=="CENTRAL REGION", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$REGION_N=="CENTRAL REGION", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
len(unique(houses_sf$REGION_N))
length(unique(houses_sf$REGION_N))
unique(houses_sf$REGION_N)
unique(houses_sf$REGION_N)
tmap_mode('view')
tm_shape(mpsz[mpsz$REGION_N=="NORTH REGION", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$REGION_N=="NORTH REGION", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
houses_agg <- houses_sf %>% group_by(REGION_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = SUBZONE_N, min_dist_clinic)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses_agg <- houses_sf %>% group_by(REGION_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = REGION_N, min_dist_clinic)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses_agg <- houses_sf %>% group_by(REGION_N)
houses_agg <- houses_sf %>% group_by(REGION_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = REGION_N, mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = REGION_N, reorder(mean_dist)) +
ggplot(houses_agg, aes(x = REGION_N, reorder(mean_dist))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = REGION_N, reorder(mean_dist))) +
ggplot(houses_agg, aes(x = REGION_N, reorder(mean_dist))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = REGION_N, reorder(x=mean_dist))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = REGION_N, mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = REGION_N,y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = reorder(REGION_N),y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = reorder(REGION_N, -mean_dist),y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses_agg <- houses_sf[houses_sf$REGION_N=="NORTH REGION", ] %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = reorder(SUBZONE_N, -mean_dist),y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses_agg <- houses_sf[houses_sf$REGION_N=="CENTRAL REGION", ] %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = reorder(SUBZONE_N, -mean_dist),y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_dist_school', #School here but change to anything
style='quantile',
size=0.5)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_dist_school', #School here but change to anything
style='quantile',
size=0.5)
houses_agg <- houses_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_school))
schoolhist <- ggplot(houses_agg, aes(x = reorder(SUBZONE_N, -mean_dist), mean_dist)) +
geom_col(fill = '#e05915') +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) + theme(axis.title = element_text(family = "Trebuchet MS", color="#666666", face="bold", size=15))
schoolhist
# Change the colors of plot panel background to lightblue and the color of grid lines to white
schoolhist + theme(
panel.background = element_rect(fill = "#edd9c0",
colour = "#edd9c0",
size = 0.5, linetype = "solid"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
colour = "white")
)
tmap_mode('view')
tm_shape(mpsz[mpsz$REGION_N=="NORTH REGION", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$REGION_N=="NORTH REGION", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
houses_agg <- houses_sf[houses_sf$REGION_N=="CENTRAL REGION", ] %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = reorder(SUBZONE_N, -mean_dist),y = mean_dist),
xlab("Subzone")) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(houses_agg, aes(x = reorder(SUBZONE_N, -mean_dist),y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses_agg <- houses_sf[houses_sf$REGION_N=="CENTRAL REGION", ] %>% group_by(town) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = reorder(town, -mean_dist),y = mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
tmap_mode('view')
tm_shape(mpsz[mpsz$SUBZONE_N=="SEMBAWANG CENTRAL", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$SUBZONE_N=="SEMBAWANG CENTRAL", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
tmap_mode('view')
tm_shape(mpsz[mpsz$town=="SEMBAWANG", ]) + tm_polygons() +
tm_shape(houses_sf[houses_sf$town=="SEMBAWANG", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
tm_shape(houses_sf[houses_sf$town=="SEMBAWANG", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
View(houses_sf)
tmap_mode('view')
tm_shape(houses_sf[houses_sf$town=="SENGKANG", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
