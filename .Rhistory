if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
mpsz_sf <- st_transform(mpsz_sf, 3414)
mpsz_sf <- mpsz_sf %>% dplyr::select(SUBZONE_NO, SUBZONE_N, PLN_AREA_N,REGION_N,geometry)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
st_crs(houses_sf) <- st_crs(mpsz_sf)
joined_df <- st_join(mpsz_sf, houses_sf, join=st_intersects)
joined_df <- na.omit(joined_df)
joined_df <- joined_df[,c(1:5)]
st_geometry(joined_df) <- NULL
houses <- left_join(houses, joined_df)
houses_old <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_old$PLN_AREA_N <- houses$PLN_AREA_N
houses_old <- houses_old %>% dplyr::select(X1, address, town, flat_type, lon, lat, Street, SUBZONE_NO, SUBZONE_N,REGION_N, PLN_AREA_N, everything())
write_csv(houses_old, 'data/resale-flat-prices/finalCSVforplots.csv')
# Add subzone, plan area, region to schools
mpsz_sf <- mpsz_sf[,c(2,3,6,8)]
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse', 'readr','ggplot2')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses_group_MRT <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_grouped_sf <- st_as_sf(houses_group_MRT, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_MRT',
style='quantile',
size=0.15) +
tm_style("col_blind")
houses_agg <- houses_grouped_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_MRT))
mrthist <- ggplot(houses_agg, aes(x = SUBZONE_N, mean_dist)) +
geom_col(fill = '#336e7b') +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) + theme(axis.title = element_text(family = "Trebuchet MS", color="#666666", face="bold", size=15))
mrthist
# Change the colors of plot panel background to lightblue and the color of grid lines to white
mrthist + theme(
panel.background = element_rect(fill = "#e4e9ed",
colour = "#e4e9ed",
size = 0.5, linetype = "solid"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
colour = "white")
)
houses_group_school <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_grouped_sf <- st_as_sf(houses_group_school, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_school',
style='quantile',
size=0.5)
houses_agg <- houses_grouped_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_school))
schoolhist <- ggplot(houses_agg, aes(x = SUBZONE_N, mean_dist)) +
geom_col(fill = '#e05915') +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) + theme(axis.title = element_text(family = "Trebuchet MS", color="#666666", face="bold", size=15))
schoolhist
# Change the colors of plot panel background to lightblue and the color of grid lines to white
schoolhist + theme(
panel.background = element_rect(fill = "#edd9c0",
colour = "#edd9c0",
size = 0.5, linetype = "solid"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
colour = "white")
)
houses_group_hawker <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_grouped_sf <- st_as_sf(houses_group_hawker, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
ogrListLayers("data/hawker-centres/hawker-centres-kml.kml")
hawker_centres <- readOGR(dsn="data/hawker-centres/hawker-centres-kml.kml", layer='HAWKERCENTRE')
hc_sf <- st_as_sf(hawker_centres)
hc_sf <- st_set_crs(hc_sf, 4326)
hc_sf <- st_transform(hc_sf, 3414)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_hawker',
style='quantile',
size=0.5)
houses_agg <- houses_grouped_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_hawker))
ggplot(houses_agg, aes(x = SUBZONE_N, mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
houses_group <- read_csv('data/resale-flat-prices/all_flats_grouped.csv')
houses_grouped_sf <- st_as_sf(houses_group, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
tmap_mode('plot')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_grouped_sf) +
tm_dots(col='min_clinic',
style='quantile',
size=0.5)
houses_agg <- houses_grouped_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_clinic))
ggplot(houses_agg, aes(x = SUBZONE_N, mean_dist)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse', 'readr','extrafont')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
schools <- read_csv('data/schools/schools.csv' )
schools_sf <- st_as_sf(schools, coords=c('lon','lat' ))
tmap_mode('view')
tm_shape(mpsz) + tm_polygons() +
tm_shape(houses_sf) +
tm_dots(col='min_dist_school', #School here but change to anything
style='quantile',
size=0.1) +
tm_shape(schools_sf) +
tm_bubbles(size=0.05)
houses_agg <- houses_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_school))
schoolhist <- ggplot(houses_agg, aes(x = reorder(SUBZONE_N, -mean_dist), mean_dist)) +
geom_col(fill = '#e05915') +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) + theme(axis.title = element_text(family = "Trebuchet MS", color="#666666", face="bold", size=15))
schoolhist
# Change the colors of plot panel background to lightblue and the color of grid lines to white
schoolhist + theme(
panel.background = element_rect(fill = "#edd9c0",
colour = "#edd9c0",
size = 0.5, linetype = "solid"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
colour = "white")
)
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
houses_sf <- st_set_crs(houses_sf, 4326)
houses_sf <- st_transform(houses_sf, 3414)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
#Color 1 subzone
houses_agg <- houses_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_clinic))
houses_agg <- houses_agg[order(houses_agg$mean_dist),][c(1:10),]
ggplot(houses_agg, aes(x = reorder(SUBZONE_N, mean_dist),
y = mean_dist,
fill=ifelse(SUBZONE_N=="BUGIS","Highlight","Normal"))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1),
legend.title = element_blank(),
legend.position = "none") +
labs(x = "Subzone", y = "Mean distance") +
scale_fill_manual(values = c('orangered', 'skyblue'))
#Colour 1 region
houses_agg <- houses_sf %>% group_by(REGION_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = reorder(REGION_N, -mean_dist),
y = mean_dist,
fill=ifelse(REGION_N=="EAST REGION","green","red"))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
tmap_mode('view')
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="SEMBAWANG", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
foo <- vector(mode="list", length=2)
names(foo) <- c("busStop", "schools")
busStop <- read_csv('data/busStops/bus-stops.csv')
schools <- read_csv('data/schools/schools.csv')
busStop_sf <- st_as_sf(busStop, coords=c("lon", "lat"))
foo[[1]] <- busStop_sf
foo[[2]] <- schools
input <- 'busStop'
str(foo)
str(foo[input][1])
yo <- foo[input][[1]]
yo <- unlist(foo[[1]])
head(yo)
tmap_mode("plot")
tm_shape(yo[yo$REGION_N=="NORTH REGION", ]) + tm_dots()
facilities_agg <- busStop_sf %>% group_by(SUBZONE_N) %>% summarise(count = n())
mpsz_data <- mpsz@data
mpsz_count <- left_join(mpsz_data, houses_agg)
mpsz_count$count[is.na(mpsz_count$count)] <- 0
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
houses_sf <- st_set_crs(houses_sf, 4326)
houses_sf <- st_transform(houses_sf, 3414)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
#Color 1 subzone
houses_agg <- houses_sf %>% group_by(SUBZONE_N) %>% summarise(mean_dist=mean(min_dist_clinic))
houses_agg <- houses_agg[order(houses_agg$mean_dist),][c(1:10),]
ggplot(houses_agg, aes(x = reorder(SUBZONE_N, mean_dist),
y = mean_dist,
fill=ifelse(SUBZONE_N=="BUGIS","Highlight","Normal"))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1),
legend.title = element_blank(),
legend.position = "none") +
labs(x = "Subzone", y = "Mean distance") +
scale_fill_manual(values = c('orangered', 'skyblue'))
#Colour 1 region
houses_agg <- houses_sf %>% group_by(REGION_N) %>% summarise(mean_dist=mean(min_dist_clinic))
ggplot(houses_agg, aes(x = reorder(REGION_N, -mean_dist),
y = mean_dist,
fill=ifelse(REGION_N=="EAST REGION","green","red"))) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
tmap_mode('view')
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="SEMBAWANG", ]) +
tm_dots(col='min_dist_clinic',
style='quantile',
size=0.1)
foo <- vector(mode="list", length=2)
names(foo) <- c("busStop", "schools")
busStop <- read_csv('data/busStops/bus-stops.csv')
schools <- read_csv('data/schools/schools.csv')
busStop_sf <- st_as_sf(busStop, coords=c("lon", "lat"))
foo[[1]] <- busStop_sf
foo[[2]] <- schools
input <- 'busStop'
str(foo)
str(foo[input][1])
yo <- foo[input][[1]]
yo <- unlist(foo[[1]])
head(yo)
tmap_mode("plot")
tm_shape(yo[yo$REGION_N=="NORTH REGION", ]) + tm_dots()
tmap_mode("plot")
tm_shape(yo[yo$REGION_N=="NORTH REGION", ]) + tm_dots()
facilities_agg <- busStop_sf %>% group_by(SUBZONE_N) %>% summarise(count = n())
mpsz_data <- mpsz@data
mpsz_count <- left_join(mpsz_data, houses_agg)
mpsz_count$count[is.na(mpsz_count$count)] <- 0
knitr::opts_chunk$set(echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE)
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
knitr::opts_chunk$set(echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE)
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/all_flats.csv')
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
busStop <- readOGR(dsn='data/BusStop', layer='BusStop')
busStop <- readOGR(dsn='data/BusStop', layer='BusStop')
houses <- read_csv('data/resale-flat-prices/all_flats.csv')
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
#Setting an interactive view mode of tmap
tmap_mode("view")
tm_shape(mpsz) +
tm_polygons() +
tm_shape(busStop) +
tm_dots(size = 0.000001, col = "#7d4627") +
tm_style("classic", bg.color="white") +
tm_view(alpha = 1, basemaps = "Stamen.Watercolor")
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
ogrListLayers(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml')
mpa <- readOGR(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml', layer='MP14_PLNG_AREA_WEB_PL')
mpa_sf <- st_as_sf(mpa)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
clinics <- read_csv('data/clinics/clinics.csv')
clinics_sf <- st_as_sf(clinics, coords=c("lon", "lat"))
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
clinicicon <- tmap_icons(file = 'ICONs/hospital.png', width = 48, height = 48, keep.asp = TRUE, just = c("center", "center"), as.local = TRUE)
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu') +
tm_shape(clinics_sf[clinics_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(size = .3, alpha = .5, shape = clinicicon)
clinicicon <- tmap_icons(file = 'ICONs/hospital.png', width = 48, height = 48, keep.asp = TRUE, just = c("center", "center"), as.local = TRUE)
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu') +
tm_shape(clinics_sf[clinics_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(size = .3, alpha = .5, shape = clinicicon)
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools'.'DT')
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools','DT')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
ogrListLayers(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml')
mpa <- readOGR(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml', layer='MP14_PLNG_AREA_WEB_PL')
mpa_sf <- st_as_sf(mpa)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
clinics <- read_csv('data/clinics/clinics.csv')
clinics_sf <- st_as_sf(clinics, coords=c("lon", "lat"))
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
ogrListLayers(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml')
mpa <- readOGR(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml', layer='MP14_PLNG_AREA_WEB_PL')
mpa_sf <- st_as_sf(mpa)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
clinics <- read_csv('data/clinics/clinics.csv')
clinics_sf <- st_as_sf(clinics, coords=c("lon", "lat"))
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
clinicicon <- tmap_icons(file = 'ICONs/hospital.png', width = 48, height = 48, keep.asp = TRUE, just = c("center", "center"), as.local = TRUE)
tmap_mode("view")
tm_shape(mpsz[mpsz$PLN_AREA_N=="BISHAN", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpa[mpa$Name=="BISHAN",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu') +
tm_shape(clinics_sf[clinics_sf$PLN_AREA_N=="BISHAN", ]) + tm_dots(size = .3, alpha = .5, shape = clinicicon)
clinicicon <- tmap_icons(file = 'ICONs/hospital.png', width = 48, height = 48, keep.asp = TRUE, just = c("center", "center"), as.local = TRUE)
tmap_mode("view")
tm_shape(mpsz[mpsz$REGION_N=="NORTH REGION", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpr[mpr$Name=="NORTH REGION",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$REGION_N=="NORTH REGION", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'Blues') +
tm_shape(clinics_sf[clinics_sf$REGION_N=="NORTH REGION", ]) + tm_dots(size = .1, alpha = .5, shape = clinicicon)
clinicicon <- tmap_icons(file = 'ICONs/hospital.png', width = 48, height = 48, keep.asp = TRUE, just = c("center", "center"), as.local = TRUE)
tmap_mode("view")
tm_shape(mpsz[mpsz$REGION_N=="NORTH REGION", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpr[mpr$Name=="NORTH REGION",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$REGION_N=="NORTH REGION", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'Blues') +
tm_shape(clinics_sf[clinics_sf$REGION_N=="NORTH REGION", ]) + tm_dots(size = .1, alpha = .5, shape = clinicicon)
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
ogrListLayers(dsn='data/mp_region/MP14_REGION_WEB_PL.kml')
mpr <- readOGR(dsn='data/mp_region/MP14_REGION_WEB_PL.kml', layer='MP14_REGION_WEB_PL')
mpr_sf <- st_as_sf(mpr)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
clinics <- read_csv('data/clinics/clinics.csv')
clinics_sf <- st_as_sf(clinics, coords=c("lon", "lat"))
#Summary statistics for setting the range:
summary(houses)
tmap_mode("view")
tm_shape(mpsz[mpsz$REGION_N=="NORTH REGION", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpr[mpr$Name=="NORTH REGION",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$REGION_N=="NORTH REGION", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'GnBu')
clinicicon <- tmap_icons(file = 'ICONs/hospital.png', width = 48, height = 48, keep.asp = TRUE, just = c("center", "center"), as.local = TRUE)
tmap_mode("view")
tm_shape(mpsz[mpsz$REGION_N=="NORTH REGION", ]) + tm_borders(lty = "dashed",col = '#d35400',lwd = 1) +
tm_shape(mpr[mpr$Name=="NORTH REGION",]) + tm_polygons(col = '#fdcb6e', alpha = 0.3, border.col = '#2f3542', lwd = 3) +
tm_shape(houses_sf[houses_sf$REGION_N=="NORTH REGION", ]) + tm_dots(col='min_dist_clinic', style='fixed', breaks = c(0, 100 ,200, 300, 400, 500, 600, 700, 800, 8200), size=0.05, palette = 'Blues') +
tm_shape(clinics_sf[clinics_sf$REGION_N=="NORTH REGION", ]) + tm_dots(size = .1, alpha = .5, shape = clinicicon)
knitr::opts_chunk$set(echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE)
tm_shape(mpsz) +tm_fill("count",style = "quantile",palette = "Blues",thres.poly = 0) +
tm_layout(legend.show = FALSE,title.position = c("center", "center"), title.size = 20) +
tm_borders(alpha = 0.5)
knitr::opts_chunk$set(echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE)
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/all_flats.csv')
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
busStop <- readOGR(dsn='data/BusStop', layer='BusStop')
tm_shape(mpsz) +tm_fill("count",style = "quantile",palette = "Blues",thres.poly = 0) +
tm_layout(legend.show = FALSE,title.position = c("center", "center"), title.size = 20) +
tm_borders(alpha = 0.5)
tm_shape(mpsz) + tm_polygons() +
tm_shape(singapore_police) + tm_dots(size = 0.01, col = "#7d4627") +
tm_style("classic", bg.color="white") +
tm_view(alpha = 1, basemaps = "Stamen.Watercolor")
tm_shape(mpsz) + tm_polygons() +
tm_shape(singapore_police) + tm_dots(size = 0.01, col = "#7d4627") +
tm_style("classic", bg.color="white") +
tm_view(alpha = 1, basemaps = "Stamen.Watercolor")
knitr::opts_chunk$set(echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE)
packages = c('sf', 'tmap', 'ggmap', 'rgdal', 'tidyverse')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
houses <- read_csv('data/resale-flat-prices/all_flats.csv')
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
busStop <- readOGR(dsn='data/BusStop', layer='BusStop')
tm_shape(mpsz) + tm_polygons() +
tm_shape(singapore_police) + tm_dots(size = 0.01, col = "#7d4627") +
tm_style("classic", bg.color="white") +
tm_view(alpha = 1, basemaps = "Stamen.Watercolor")
tm_shape(mpsz) + tm_polygons() +
tm_shape(singapore_police) + tm_dots(size = 0.01, col = "#7d4627") +
tm_style("classic", bg.color="white") +
tm_view(alpha = 1, basemaps = "Stamen.Watercolor")
ogrListLayers("data/singapore-police-force-establishment/singapore-police-force-establishments-2018-kml.kml")
singapore_police <- readOGR(dsn="data/singapore-police-force-establishment/singapore-police-force-establishments-2018-kml.kml", layer="SPF_ESTABLISHMENTS_2018")
tm_shape(mpsz) + tm_polygons() +
tm_shape(singapore_police) + tm_dots(size = 0.01, col = "#7d4627") +
tm_style("classic", bg.color="white") +
tm_view(alpha = 1, basemaps = "Stamen.Watercolor")
tm_shape(mpsz) +tm_fill("count",style = "quantile",palette = "Blues",thres.poly = 0) +
tm_layout(legend.show = FALSE,title.position = c("center", "center"), title.size = 20) +
tm_borders(alpha = 0.5)
tm_shape(mpsz) +tm_fill("count",style = "quantile",palette = "Blues",thres.poly = 0) +
tm_layout(legend.show = FALSE,title.position = c("center", "center"), title.size = 20) +
tm_borders(alpha = 0.5)
packages = c('ggmap', 'rgdal','qdapTools', 'spatstat', 'readr', 'dplyr', 'sf', 'tmap','tmaptools','DT')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
ogrListLayers(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml')
mpa <- readOGR(dsn='data/mp_planning_area/MP14_PLNG_AREA_WEB_PL.kml', layer='MP14_PLNG_AREA_WEB_PL')
mpa_sf <- st_as_sf(mpa)
mpsz <- readOGR(dsn='data/mpsz', layer='MP14_SUBZONE_WEB_PL')
mpsz_sf <- st_as_sf(mpsz)
houses <- read_csv('data/resale-flat-prices/finalCSVforplots.csv')
houses_sf <- st_as_sf(houses, coords = c("lon", "lat"))
clinics <- read_csv('data/clinics/clinics.csv')
clinics_sf <- st_as_sf(clinics, coords=c("lon", "lat"))
